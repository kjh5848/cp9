# CP9 - AI-Powered Product Research & Content Generation Platform

## ğŸš€ í”„ë¡œì íŠ¸ ê°œìš”

CP9ì€ AI ê¸°ìˆ ì„ í™œìš©í•˜ì—¬ ìƒí’ˆ ë¦¬ì„œì¹˜ë¶€í„° SEO ì½˜í…ì¸  ìƒì„±ê¹Œì§€ ìë™í™”í•˜ëŠ” í”Œë«í¼ì…ë‹ˆë‹¤.

## ğŸ“ í”„ë¡œì íŠ¸ êµ¬ì¡°

```
cp9/
â”œâ”€â”€ frontend/                 # Next.js 15 í”„ë¡ íŠ¸ì—”ë“œ
â”‚   â”œâ”€â”€ src/
â”‚   â”‚   â”œâ”€â”€ app/             # App Router í˜ì´ì§€
â”‚   â”‚   â”‚   â”œâ”€â”€ product/           # ìƒí’ˆ ê²€ìƒ‰ í˜ì´ì§€
â”‚   â”‚   â”‚   â”œâ”€â”€ research/          # ğŸ†• ë¦¬ì„œì¹˜ ê´€ë¦¬ í˜ì´ì§€
â”‚   â”‚   â”‚   â”œâ”€â”€ research-results/  # ë¦¬ì„œì¹˜ ê²°ê³¼ í˜ì´ì§€
â”‚   â”‚   â”‚   â”œâ”€â”€ auth/              # ì¸ì¦ í˜ì´ì§€
â”‚   â”‚   â”‚   â”œâ”€â”€ test/              # í…ŒìŠ¤íŠ¸ í˜ì´ì§€ë“¤
â”‚   â”‚   â”‚   â””â”€â”€ api/               # API ë¼ìš°íŠ¸
â”‚   â”‚   â”‚       â”œâ”€â”€ item-research/ # ì•„ì´í…œ ë¦¬ì„œì¹˜ API
â”‚   â”‚   â”‚       â”œâ”€â”€ research/      # ë¦¬ì„œì¹˜ ê´€ë¦¬ API
â”‚   â”‚   â”‚       â”œâ”€â”€ drafts/        # ì´ˆì•ˆ ê´€ë¦¬ API
â”‚   â”‚   â”‚       â””â”€â”€ write/         # SEO ê¸€ ìƒì„± API
â”‚   â”‚   â”‚
â”‚   â”‚   â”œâ”€â”€ features/         # ê¸°ëŠ¥ë³„ ëª¨ë“ˆ
â”‚   â”‚   â”‚   â”œâ”€â”€ auth/          # ì¸ì¦ ê¸°ëŠ¥
â”‚   â”‚   â”‚   â”œâ”€â”€ product/       # ìƒí’ˆ ê²€ìƒ‰/ê´€ë¦¬
â”‚   â”‚   â”‚   â”œâ”€â”€ research/      # ğŸ†• ë¦¬ì„œì¹˜ ê´€ë¦¬ ê¸°ëŠ¥
â”‚   â”‚   â”‚   â”œâ”€â”€ workflow/      # AI ì›Œí¬í”Œë¡œìš° ê¸°ëŠ¥
â”‚   â”‚   â”‚   â”œâ”€â”€ search/        # ê²€ìƒ‰ ê¸°ëŠ¥
â”‚   â”‚   â”‚   â””â”€â”€ enrichment/    # ë°ì´í„° ë³´ê°• ê¸°ëŠ¥
â”‚   â”‚   â”‚
â”‚   â”‚   â”œâ”€â”€ shared/           # ê³µí†µ ëª¨ë“ˆ
â”‚   â”‚   â”‚   â”œâ”€â”€ components/    # ê³µí†µ UI ì»´í¬ë„ŒíŠ¸
â”‚   â”‚   â”‚   â”œâ”€â”€ hooks/         # ê³µí†µ í›…
â”‚   â”‚   â”‚   â”œâ”€â”€ lib/           # ìœ í‹¸ë¦¬í‹° ë¼ì´ë¸ŒëŸ¬ë¦¬
â”‚   â”‚   â”‚   â”œâ”€â”€ types/         # ê³µí†µ íƒ€ì… ì •ì˜
â”‚   â”‚   â”‚   â””â”€â”€ ui/            # ê¸°ë³¸ UI ì»´í¬ë„ŒíŠ¸
â”‚   â”‚   â”‚
â”‚   â”‚   â””â”€â”€ infrastructure/    # ì™¸ë¶€ ì„œë¹„ìŠ¤ ì—°ë™
â”‚   â”‚       â”œâ”€â”€ api/           # API í´ë¼ì´ì–¸íŠ¸
â”‚   â”‚       â”‚   â”œâ”€â”€ supabase.ts    # Supabase í´ë¼ì´ì–¸íŠ¸
â”‚   â”‚       â”‚   â””â”€â”€ perplexity.ts  # Perplexity API í´ë¼ì´ì–¸íŠ¸
â”‚   â”‚       â”œâ”€â”€ scraping/          # ì›¹ ìŠ¤í¬ë˜í•‘
â”‚   â”‚       â”‚   â”œâ”€â”€ coupang-scraper.ts
â”‚   â”‚       â”‚   â””â”€â”€ scrapfly-scraper.ts
â”‚   â”‚       â”œâ”€â”€ cache/             # ìºì‹œ ì‹œìŠ¤í…œ
â”‚   â”‚       â”‚   â””â”€â”€ redis.ts
â”‚   â”‚       â”œâ”€â”€ queue/             # í ì‹œìŠ¤í…œ
â”‚   â”‚       â”‚   â””â”€â”€ worker.ts
â”‚   â”‚       â””â”€â”€ utils/             # ì™¸ë¶€ ì„œë¹„ìŠ¤ ìœ í‹¸ë¦¬í‹°
â”‚   â”‚           â””â”€â”€ coupang-hmac.ts # ì¿ íŒ¡ HMAC ì„œëª… ìƒì„±
â”‚   â”‚
â”œâ”€â”€ store/                 # Zustand ìƒíƒœ ê´€ë¦¬
â”‚   â””â”€â”€ searchStore.ts     # ê²€ìƒ‰ ìƒíƒœ ê´€ë¦¬
â”‚
â””â”€â”€ components/            # Legacy ì»´í¬ë„ŒíŠ¸ (features/ ë¡œ ì´ê´€ ì˜ˆì •)
    â”œâ”€â”€ auth/              # AuthForm í…ŒìŠ¤íŠ¸ ë“±
    â”œâ”€â”€ common/            # navbar.tsx
    â””â”€â”€ ui/                # ê¸°ì¡´ UI ì»´í¬ë„ŒíŠ¸ (shared/ui/ ì™€ ì¤‘ë³µ)

backend/
â”œâ”€â”€ docs/                  # ë°±ì—”ë“œ ë¬¸ì„œ
â”‚   â”œâ”€â”€ 01.md ~ 04.md     # ë ˆì´ì–´ë³„ êµ¬í˜„ ê°€ì´ë“œ
â”‚   â”œâ”€â”€ supabase-edge-functions.md
â”‚   â””â”€â”€ write-test-examples.md
â”‚
â”œâ”€â”€ supabase/
â”‚   â”œâ”€â”€ functions/         # Edge Functions
â”‚   â”‚   â”œâ”€â”€ _shared/       # ê³µí†µ ìœ í‹¸ë¦¬í‹°
â”‚   â”‚   â”‚   â”œâ”€â”€ cors.ts, coupang.ts, response.ts, type.ts
â”‚   â”‚   â”œâ”€â”€ item-research/ # ì•„ì´í…œ ë¦¬ì„œì¹˜ í•¨ìˆ˜
â”‚   â”‚   â”œâ”€â”€ write/         # ğŸ†• SEO ê¸€ ìƒì„± í•¨ìˆ˜ (5ì¥)
â”‚   â”‚   â”œâ”€â”€ cache-gateway/ # ìºì‹œ ê²Œì´íŠ¸ì›¨ì´
â”‚   â”‚   â”œâ”€â”€ queue-worker/  # í ì›Œì»¤
â”‚   â”‚   â””â”€â”€ langgraph-api/ # LangGraph API
â”‚   â”‚
â”‚   â””â”€â”€ migrations/        # ë°ì´í„°ë² ì´ìŠ¤ ë§ˆì´ê·¸ë ˆì´ì…˜
â”‚       â””â”€â”€ 20250110_create_drafts_table.sql # ğŸ†• drafts í…Œì´ë¸”
â”‚
â””â”€â”€ package.json           # ë°±ì—”ë“œ ì˜ì¡´ì„±
```

## ğŸ¯ ì£¼ìš” ê¸°ëŠ¥

### 1. ìƒí’ˆ ê²€ìƒ‰ ë° ë¶„ì„
- **í‚¤ì›Œë“œ ê²€ìƒ‰**: ìƒí’ˆëª… ê¸°ë°˜ ì¿ íŒ¡ ìƒí’ˆ ê²€ìƒ‰
- **ì¹´í…Œê³ ë¦¬ ê²€ìƒ‰**: ë² ìŠ¤íŠ¸ ì¹´í…Œê³ ë¦¬ ê¸°ë°˜ ìƒí’ˆ íƒìƒ‰
- **URL ê²€ìƒ‰**: ìƒí’ˆ ë§í¬ ì§ì ‘ ë¶„ì„
- **ë”¥ë§í¬ ë³€í™˜**: ì¿ íŒ¡ íŒŒíŠ¸ë„ˆìŠ¤ ë”¥ë§í¬ ìë™ ìƒì„±

### 2. AI ë¦¬ì„œì¹˜ ì‹œìŠ¤í…œ
- **Perplexity AI ì—°ë™**: ìµœì‹  ì‹œì¥ ì •ë³´ ê¸°ë°˜ ìƒí’ˆ ë¶„ì„
- **ìë™ ë¦¬ì„œì¹˜**: ìƒí’ˆëª… â†’ ResearchPack ìë™ ìƒì„±
- **ë°ì´í„° ì €ì¥**: Supabase ë°ì´í„°ë² ì´ìŠ¤ì— ë¦¬ì„œì¹˜ ê²°ê³¼ ì €ì¥

### 3. SEO ì½˜í…ì¸  ìƒì„±
- **AI ê¸€ ì‘ì„±**: GPT ê¸°ë°˜ SEO ìµœì í™” ì½˜í…ì¸  ìƒì„±
- **ì´ˆì•ˆ ê´€ë¦¬**: ìƒì„±ëœ ì½˜í…ì¸  ì´ˆì•ˆ ì €ì¥ ë° í¸ì§‘
- **ì›Œë“œí”„ë ˆìŠ¤ ì—°ë™**: ìŠ¹ì¸ëœ ì½˜í…ì¸  ìë™ ë°œí–‰

### 4. ì›Œí¬í”Œë¡œìš° ìë™í™”
- **LangGraph ê¸°ë°˜**: ë³µì¡í•œ ì›Œí¬í”Œë¡œìš° ìë™í™”
- **í ì‹œìŠ¤í…œ**: ëŒ€ëŸ‰ ì²˜ë¦¬ ì‘ì—… ê´€ë¦¬
- **ì‹¤ì‹œê°„ ìƒíƒœ ì¶”ì **: ì‘ì—… ì§„í–‰ ìƒí™© ëª¨ë‹ˆí„°ë§

## ğŸ›  ê¸°ìˆ  ìŠ¤íƒ

### Frontend
- **Next.js 15** (App Router + React 19)
- **TypeScript** (ì—„ê²©í•œ íƒ€ì… ì•ˆì „ì„±)
- **Tailwind CSS** (ìœ í‹¸ë¦¬í‹° ìš°ì„  CSS)
- **Zustand** (ìƒíƒœ ê´€ë¦¬)
- **Radix UI** (ì ‘ê·¼ì„± ì»´í¬ë„ŒíŠ¸)

### Backend
- **Supabase** (PostgreSQL + Auth + Edge Functions)
- **Deno** (Edge Functions ëŸ°íƒ€ì„)
- **Redis** (ìºì‹± ë° í)
- **LangGraph** (AI ì›Œí¬í”Œë¡œìš°)

### AI & External APIs
- **OpenAI GPT** (ì½˜í…ì¸  ìƒì„±)
- **Perplexity AI** (ì‹¤ì‹œê°„ ë¦¬ì„œì¹˜)
- **Coupang Partners** (ìƒí’ˆ ë°ì´í„°)
- **WordPress REST API** (ì½˜í…ì¸  ë°œí–‰)

## ğŸ“Š ë°ì´í„°ë² ì´ìŠ¤ ìŠ¤í‚¤ë§ˆ

### í•µì‹¬ í…Œì´ë¸”
- **research**: ë¦¬ì„œì¹˜ ë°ì´í„° (ResearchPack í˜•íƒœ)
- **drafts**: SEO ê¸€ ì´ˆì•ˆ
- **projects**: í”„ë¡œì íŠ¸ ê´€ë¦¬
- **items**: ìƒí’ˆ ì•„ì´í…œ

## ğŸš€ ì‹œì‘í•˜ê¸°

### 1. í™˜ê²½ ì„¤ì •
```bash
# í”„ë¡ íŠ¸ì—”ë“œ
cd frontend
npm install
npm run dev

# ë°±ì—”ë“œ
cd backend
npm install
npm run dev
```

### 2. í™˜ê²½ ë³€ìˆ˜ ì„¤ì •
```bash
# .env.local
NEXT_PUBLIC_SUPABASE_URL=your_supabase_url
NEXT_PUBLIC_SUPABASE_ANON_KEY=your_anon_key
SUPABASE_SERVICE_ROLE_KEY=your_service_role_key
OPENAI_API_KEY=your_openai_key
PERPLEXITY_API_KEY=your_perplexity_key
```

### 3. Supabase ì„¤ì •
```bash
cd backend/supabase
supabase start
supabase functions serve
```

## ğŸ“ˆ ê°œë°œ ì§„í–‰ë„

### âœ… ì™„ë£Œëœ ê¸°ëŠ¥
- [x] **ğŸ” ìƒí’ˆ ê²€ìƒ‰ ì‹œìŠ¤í…œ** - ì¿ íŒ¡ API ì—°ë™, í‚¤ì›Œë“œ/ì¹´í…Œê³ ë¦¬/URL ê²€ìƒ‰
- [x] **ğŸ”— ë”¥ë§í¬ ë³€í™˜** - ì¿ íŒ¡ íŒŒíŠ¸ë„ˆìŠ¤ ë”¥ë§í¬ ìë™ ìƒì„±
- [x] **ğŸ” ì¸ì¦ ì‹œìŠ¤í…œ** - Supabase Auth + Google OAuth
- [x] **ğŸ“Š ìƒí’ˆ ë°ì´í„° ê´€ë¦¬** - ê²€ìƒ‰ ê²°ê³¼ ì €ì¥, ì„ íƒ/í•„í„°ë§
- [x] **ğŸ” ë¦¬ì„œì¹˜ ë°ì´í„° ì‹œìŠ¤í…œ** - ë°±ì—”ë“œ ì•„ì´í…œ ë¦¬ì„œì¹˜ ë° ì‘ì„± ë ˆì´ì–´ êµ¬í˜„
- [x] **ğŸ“ ì‘ì„± ë ˆì´ì–´ (5ì¥)** - ResearchPack â†’ GPT SEO ì½˜í…ì¸  ìƒì„±
- [x] **ğŸ¯ ë¦¬ì„œì¹˜ ê´€ë¦¬ UI** - í”„ë¡ íŠ¸ì—”ë“œ ë¦¬ì„œì¹˜ ë°ì´í„° í™•ì¸/í¸ì§‘/SEO ê¸€ ìƒì„± ì¸í„°í˜ì´ìŠ¤

### ğŸš§ í˜„ì¬ ìƒíƒœ ë° ì§„í–‰ë„

#### **ë°±ì—”ë“œ ì‹œìŠ¤í…œ** (5/7 ë‹¨ê³„ ì™„ë£Œ)
- âœ… **1-2ë‹¨ê³„**: ìƒí’ˆ ê²€ìƒ‰ â†’ ì•„ì´í…œ ë¦¬ì„œì¹˜ ì™„ë£Œ
- âœ… **3ë‹¨ê³„**: ResearchPack ì €ì¥ (`research` í…Œì´ë¸”)
- âœ… **4ë‹¨ê³„**: GPT ê¸°ë°˜ SEO ì½˜í…ì¸  ìƒì„± (`write` Edge Function)
- âœ… **5ë‹¨ê³„**: ì´ˆì•ˆ ì €ì¥ (`drafts` í…Œì´ë¸”)
- ğŸ”„ **6ë‹¨ê³„**: ê²€ìˆ˜ ë ˆì´ì–´ (approve/re-research/rewrite) - **ì§„í–‰ ì˜ˆì •**
- ğŸ”„ **7ë‹¨ê³„**: ë°œí–‰ ë ˆì´ì–´ (WordPress ìë™ ë°œí–‰) - **ì§„í–‰ ì˜ˆì •**

#### **í”„ë¡ íŠ¸ì—”ë“œ ì‹œìŠ¤í…œ** (4/5 ë‹¨ê³„ ì™„ë£Œ)
- âœ… **ìƒí’ˆ ê²€ìƒ‰ UI**: í‚¤ì›Œë“œ/ì¹´í…Œê³ ë¦¬/URL ê¸°ë°˜ ê²€ìƒ‰
- âœ… **ë¦¬ì„œì¹˜ ê´€ë¦¬ UI**: `/research` í˜ì´ì§€ì—ì„œ ë°ì´í„° í™•ì¸/í¸ì§‘
- âœ… **SEO ê¸€ ìƒì„±**: ê°œë³„/ì¼ê´„ SEO ê¸€ ìƒì„± ìš”ì²­
- âœ… **ìƒíƒœ ì¶”ì **: ì´ˆì•ˆ ìƒì„± ì—¬ë¶€ ì‹¤ì‹œê°„ í™•ì¸
- ğŸ”„ **ì´ˆì•ˆ ê²€ìˆ˜ UI**: ìƒì„±ëœ ì´ˆì•ˆ í™•ì¸/ìˆ˜ì •/ë°œí–‰ - **ì§„í–‰ ì˜ˆì •**

### ğŸ”„ ì§„í–‰ ì¤‘ì¸ ì‘ì—…
- [X] **í™˜ê²½ ë³€ìˆ˜ ì„¤ì •** - Supabase Dashboardì—ì„œ OPENAI_API_KEY ì„¤ì •
- [X] **ë¦¬ì„œì¹˜ ê´€ë¦¬ ì‹œìŠ¤í…œ êµ¬í˜„** - í”„ë¡ íŠ¸ì—”ë“œ ë¦¬ì„œì¹˜ ë°ì´í„° CRUD ì™„ë£Œ
- [ ] **6ì¥: ê²€ìˆ˜ ë ˆì´ì–´ êµ¬í˜„** - approve/re-research/rewrite ë¶„ê¸°
- [ ] **7ì¥: ë°œí–‰ ë ˆì´ì–´ êµ¬í˜„** - WordPress ìë™ ë°œí–‰ ì‹œìŠ¤í…œ
- [ ] **ì´ˆì•ˆ ê²€ìˆ˜ UI êµ¬í˜„** - ìƒì„±ëœ ì´ˆì•ˆ í™•ì¸/ìˆ˜ì •/ë°œí–‰ í˜ì´ì§€

### ğŸ“‹ í–¥í›„ ê³„íš
- [ ] **ê²€ìˆ˜ ì›Œí¬í”Œë¡œìš° êµ¬í˜„** - ì‚¬ìš©ì ìŠ¹ì¸/ê±°ë¶€/ì¬ì‘ì—… í”Œë¡œìš°
- [ ] **WordPress ë°œí–‰ ìë™í™”** - ìŠ¹ì¸ëœ ì´ˆì•ˆ ìë™ ë°œí–‰
- [ ] **ëŒ€ì‹œë³´ë“œ êµ¬í˜„** - ì „ì²´ í”„ë¡œì íŠ¸/ì•„ì´í…œ í˜„í™© ëŒ€ì‹œë³´ë“œ
- [ ] **E2E í…ŒìŠ¤íŠ¸ êµ¬í˜„** - ì „ì²´ í”Œë¡œìš° E2E í…ŒìŠ¤íŠ¸
- [ ] **ì„±ëŠ¥ ìµœì í™”** - ëŒ€ëŸ‰ ì²˜ë¦¬ ìµœì í™”, ìºì‹± ì „ëµ
- [ ] **ë°°í¬ ìë™í™”** - CI/CD íŒŒì´í”„ë¼ì¸ êµ¬ì¶•

## ğŸ§ª í…ŒìŠ¤íŠ¸

### í”„ë¡ íŠ¸ì—”ë“œ í…ŒìŠ¤íŠ¸
```bash
cd frontend
npm run test        # Vitest
npm run test:ui     # í…ŒìŠ¤íŠ¸ UI
npm run test:e2e    # Playwright E2E
```

### ë°±ì—”ë“œ í…ŒìŠ¤íŠ¸
```bash
cd backend
npm run test        # Edge Functions í…ŒìŠ¤íŠ¸
```

## ğŸ“š API ë¬¸ì„œ

### Edge Functions
- **ê°œë°œ í™˜ê²½**: http://localhost:54321/functions/v1/docs
- **Swagger UI**: http://localhost:54321/functions/v1/docs

### ì£¼ìš” API ì—”ë“œí¬ì¸íŠ¸
- `POST /api/item-research` - ì•„ì´í…œ ë¦¬ì„œì¹˜
- `POST /api/write` - SEO ê¸€ ìƒì„±
- `GET /api/research` - ë¦¬ì„œì¹˜ ë°ì´í„° ì¡°íšŒ
- `POST /api/drafts` - ì´ˆì•ˆ ì €ì¥

## ğŸ¤ ê¸°ì—¬í•˜ê¸°

1. Fork the repository
2. Create your feature branch (`git checkout -b feature/amazing-feature`)
3. Commit your changes (`git commit -m 'Add some amazing feature'`)
4. Push to the branch (`git push origin feature/amazing-feature`)
5. Open a Pull Request

## ğŸ“„ ë¼ì´ì„ ìŠ¤

ì´ í”„ë¡œì íŠ¸ëŠ” MIT ë¼ì´ì„ ìŠ¤ í•˜ì— ë°°í¬ë©ë‹ˆë‹¤.

## ğŸ“ ë¬¸ì˜

í”„ë¡œì íŠ¸ì— ëŒ€í•œ ë¬¸ì˜ì‚¬í•­ì´ ìˆìœ¼ì‹œë©´ ì´ìŠˆë¥¼ ìƒì„±í•´ ì£¼ì„¸ìš”. 